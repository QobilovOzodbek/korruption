{% extends 'base.html' %}
{% load static %}

{% block title %}Statistika va Tahlil{% endblock %}

{% block content %}
<div class="container" style="margin-top: 40px;">

    <h1 style="text-align:center; color: var(--primary-color); margin-bottom:40px;">
        Korrupsiyaga Qarshi Kurash Tahlili
    </h1>

    <section class="stats-cards grid-4">
        <div class="stat-card service-card">
            <h3>Jami Xabarlar</h3>
            <p id="total-clients-value" class="stat-number">...</p>
        </div>
        <div class="stat-card service-card">
            <h3>Hal Qilingan Holatlar</h3>
            <p id="growth-rate-value" class="stat-number">...</p>
        </div>
        <div class="stat-card service-card">
            <h3>Kutilayotgan Holatlar</h3>
            <p id="projects-value" class="stat-number">...</p>
        </div>
        <div class="stat-card service-card">
            <h3>O‘rtacha Baho</h3>
            <p id="average-rating-value" class="stat-number">...</p>
        </div>
    </section>

    <section class="charts-section">
        <h2>Oylik Xabar Berish va Hal Qilish Dinamikasi</h2>
        <div class="chart-container">
            <canvas id="monthlyActivityChart"></canvas>
        </div>
    </section>

    <section class="details-table-section">
        <h2 style="margin-bottom:20px;">Oylik Tahlil</h2>
        <table id="data-table">
            <thead>
                <tr>
                    <th>Oy</th>
                    <th>Jami murojaatlar</th>
                    <th>Ko‘rib chiqilmoqda</th>
                    <th>Hal qilingan</th>
                    <th>Rad etilgan</th>
                </tr>
            </thead>

            <tbody></tbody>
        </table>
    </section>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/stats.js' %}"></script>
{% endblock %}